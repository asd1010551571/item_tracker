<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', system_ui, sans-serif;
        }
        
        .count-display {
            font-size: 2.75rem;
            line-height: 1;
            font-weight: 700;
        }
        
        .item-card {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .item-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        
        .btn-count {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            line-height: 1;
        }
    </style>
</head>
<body class="bg-zinc-950 text-zinc-100 min-h-screen pb-20">
    <div class="max-w-2xl mx-auto p-4">
        <!-- Header -->
        <div class="flex items-center justify-between mb-8 pt-6">
            <div>
                <h1 class="text-4xl font-bold tracking-tight">Item Tracker</h1>
                <p class="text-zinc-400 text-sm mt-1">Home â€¢ Hall â€¢ Never lose count</p>
            </div>
            <div class="flex items-center gap-3">
                <button onclick="clearAll()" 
                        class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-950/50 rounded-2xl transition-colors">
                    <i class="fa-solid fa-trash"></i>
                    <span>Clear All</span>
                </button>
                <div class="w-10 h-10 bg-emerald-500 rounded-2xl flex items-center justify-center text-white font-bold text-xl">ðŸ“¦</div>
            </div>
        </div>

        <!-- Add new item -->
        <div class="bg-zinc-900 rounded-3xl p-2 mb-8">
            <div class="flex gap-2">
                <input id="item-input" 
                       type="text" 
                       placeholder="New item name (e.g. T-Shirts)" 
                       class="flex-1 bg-transparent px-6 py-5 text-lg outline-none placeholder-zinc-500"
                       onkeypress="if(event.key === 'Enter') addItem()">
                <button onclick="addItem()" 
                        class="bg-white text-zinc-900 px-8 font-semibold rounded-2xl flex items-center gap-2 hover:bg-emerald-400 transition-colors">
                    <i class="fa-solid fa-plus"></i>
                    ADD
                </button>
            </div>
        </div>

        <!-- Items list -->
        <div id="items-list" class="space-y-4">
            <!-- Populated by JavaScript -->
        </div>

        <!-- Empty state -->
        <div id="empty-state" class="hidden flex flex-col items-center justify-center py-20 text-center">
            <div class="text-7xl mb-6">ðŸ“¦</div>
            <h3 class="text-2xl font-semibold mb-2">No items yet</h3>
            <p class="text-zinc-400 max-w-xs">Add your first item above and start tracking Home vs Hall counts</p>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="hidden fixed bottom-6 left-1/2 -translate-x-1/2 bg-zinc-800 text-white px-6 py-3 rounded-2xl flex items-center gap-3 shadow-2xl">
        <i id="toast-icon" class="fa-solid"></i>
        <span id="toast-message" class="font-medium"></span>
    </div>

    <script>
        // Tailwind script already loaded via CDN
        function initTailwind() {
            // No extra config needed
        }

        let items = []

        const STORAGE_KEY = 'itemTrackerData'

        function loadItems() {
            const saved = localStorage.getItem(STORAGE_KEY)
            if (saved) {
                items = JSON.parse(saved)
            }
        }

        function saveItems() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(items))
        }

        function showToast(message, icon = 'check', duration = 2500) {
            const toast = document.getElementById('toast')
            const toastIcon = document.getElementById('toast-icon')
            const toastMessage = document.getElementById('toast-message')
            
            toastIcon.className = `fa-solid fa-${icon}`
            toastMessage.textContent = message
            toast.classList.remove('hidden')
            toast.style.transform = 'translate(-50%, 0)'
            
            setTimeout(() => {
                toast.style.transform = 'translate(-50%, 100%)'
                setTimeout(() => {
                    toast.classList.add('hidden')
                }, 300)
            }, duration)
        }

        function renderItems() {
            const container = document.getElementById('items-list')
            const emptyState = document.getElementById('empty-state')
            
            container.innerHTML = ''
            
            if (items.length === 0) {
                emptyState.classList.remove('hidden')
                return
            }
            
            emptyState.classList.add('hidden')
            
            items.forEach(item => {
                const total = item.home + item.hall
                
                const cardHTML = `
                    <div class="item-card bg-zinc-900 rounded-3xl overflow-hidden border border-zinc-800">
                        <!-- Header -->
                        <div class="px-6 py-5 flex items-center justify-between border-b border-zinc-800">
                            <div onclick="renameItem('${item.id}')" 
                                 class="flex-1 cursor-pointer group">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">ðŸ“¦</span>
                                    <span id="name-${item.id}" 
                                          class="font-semibold text-xl group-hover:text-emerald-400 transition-colors">
                                        ${item.name}
                                    </span>
                                </div>
                            </div>
                            
                            <div class="flex items-center gap-2">
                                <div onclick="deleteItem('${item.id}')" 
                                     class="w-9 h-9 flex items-center justify-center text-red-400 hover:bg-red-950 rounded-2xl cursor-pointer transition-colors">
                                    <i class="fa-solid fa-trash text-lg"></i>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Counts -->
                        <div class="grid grid-cols-2 gap-px bg-zinc-800">
                            <!-- Home -->
                            <div class="bg-zinc-900 p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center gap-2 text-emerald-400">
                                        <i class="fa-solid fa-house"></i>
                                        <span class="font-medium uppercase tracking-widest text-xs">Home</span>
                                    </div>
                                    <div class="text-emerald-400 text-sm font-mono">${item.home}</div>
                                </div>
                                
                                <div class="flex items-center justify-center gap-6">
                                    <button onclick="changeCount('${item.id}', 'home', -1)" 
                                            class="btn-count bg-zinc-800 hover:bg-zinc-700 active:bg-zinc-600 rounded-2xl text-white transition-all active:scale-90">
                                        âˆ’
                                    </button>
                                    
                                    <div class="count-display text-emerald-300 min-w-[80px] text-center">
                                        ${item.home}
                                    </div>
                                    
                                    <button onclick="changeCount('${item.id}', 'home', 1)" 
                                            class="btn-count bg-emerald-500 hover:bg-emerald-400 active:bg-emerald-600 rounded-2xl text-white transition-all active:scale-90">
                                        +
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Hall -->
                            <div class="bg-zinc-900 p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center gap-2 text-sky-400">
                                        <i class="fa-solid fa-door-open"></i>
                                        <span class="font-medium uppercase tracking-widest text-xs">Hall</span>
                                    </div>
                                    <div class="text-sky-400 text-sm font-mono">${item.hall}</div>
                                </div>
                                
                                <div class="flex items-center justify-center gap-6">
                                    <button onclick="changeCount('${item.id}', 'hall', -1)" 
                                            class="btn-count bg-zinc-800 hover:bg-zinc-700 active:bg-zinc-600 rounded-2xl text-white transition-all active:scale-90">
                                        âˆ’
                                    </button>
                                    
                                    <div class="count-display text-sky-300 min-w-[80px] text-center">
                                        ${item.hall}
                                    </div>
                                    
                                    <button onclick="changeCount('${item.id}', 'hall', 1)" 
                                            class="btn-count bg-sky-500 hover:bg-sky-400 active:bg-sky-600 rounded-2xl text-white transition-all active:scale-90">
                                        +
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Footer total -->
                        <div class="px-6 py-4 bg-zinc-950 flex items-center justify-between text-xs uppercase tracking-widest">
                            <span class="text-zinc-500">Total</span>
                            <span class="font-mono text-lg font-semibold text-white">${total}</span>
                        </div>
                    </div>
                `
                container.innerHTML += cardHTML
            })
        }

        function changeCount(id, location, delta) {
            const item = items.find(i => i.id === id)
            if (!item) return
            
            if (location === 'home') {
                item.home = Math.max(0, item.home + delta)
            } else {
                item.hall = Math.max(0, item.hall + delta)
            }
            
            saveItems()
            renderItems()
            
            // Quick feedback toast only on decrease to zero
            if (delta === -1 && ((location === 'home' && item.home === 0) || (location === 'hall' && item.hall === 0))) {
                showToast('Minimum reached (0)', 'info-circle', 1200)
            }
        }

        function addItem() {
            const input = document.getElementById('item-input')
            const name = input.value.trim()
            
            if (!name) {
                showToast('Please enter an item name', 'exclamation', 1800)
                input.focus()
                return
            }
            
            // Check for duplicate
            if (items.some(item => item.name.toLowerCase() === name.toLowerCase())) {
                showToast('Item already exists', 'exclamation', 1800)
                return
            }
            
            items.unshift({
                id: Date.now().toString(36),
                name: name,
                home: 0,
                hall: 0
            })
            
            saveItems()
            renderItems()
            
            input.value = ''
            showToast(`Added "${name}"`, 'plus', 1400)
            input.focus()
        }

        function deleteItem(id) {
            if (!confirm('Delete this item and all its counts?')) return
            
            const item = items.find(i => i.id === id)
            const name = item ? item.name : ''
            
            items = items.filter(i => i.id !== id)
            saveItems()
            renderItems()
            
            showToast(`Deleted ${name}`, 'trash', 1600)
        }

        function renameItem(id) {
            const item = items.find(i => i.id === id)
            if (!item) return
            
            const newName = prompt('New name for this item:', item.name)
            if (!newName || newName.trim() === item.name) return
            
            const trimmed = newName.trim()
            
            // Check duplicate after rename
            if (items.some(i => i.id !== id && i.name.toLowerCase() === trimmed.toLowerCase())) {
                showToast('Name already exists', 'exclamation')
                return
            }
            
            item.name = trimmed
            saveItems()
            renderItems()
            showToast('Name updated', 'edit')
        }

        function clearAll() {
            if (items.length === 0) return
            if (!confirm('Delete ALL items and reset everything? This cannot be undone.')) return
            
            items = []
            saveItems()
            renderItems()
            showToast('Everything cleared', 'trash')
        }

        // Keyboard shortcuts
        function handleKeyboard(e) {
            if (e.metaKey && e.key === 'k') {
                e.preventDefault()
                document.getElementById('item-input').focus()
            }
        }

        // Initialize app
        function initialize() {
            initTailwind()
            loadItems()
            renderItems()
            
            // Focus input on load
            setTimeout(() => {
                document.getElementById('item-input').focus()
            }, 600)
            
            // Keyboard support
            document.addEventListener('keydown', handleKeyboard)
            
            // Demo data if empty
            if (items.length === 0) {
                setTimeout(() => {
                    if (items.length === 0) {
                        items = [
                            {
                                id: "demo1",
                                name: "T-Shirts",
                                home: 12,
                                hall: 3
                            },
                            {
                                id: "demo2",
                                name: "Sneakers",
                                home: 5,
                                hall: 8
                            }
                        ]
                        saveItems()
                        renderItems()
                    }
                }, 800)
            }
        }

        // Start the app
        window.onload = initialize
    </script>
</body>
</html>